<section class="departments-section section-padding">
  <div class="container-custom">
    <h2 class="section-title">Faculty Departments</h2>

    <div class="row">
      <!-- Departments Sidebar -->
      <div class="col-lg-3 col-md-4 mb-4">
        <div class="departments-sidebar card-custom">
          <h4 class="sidebar-title">
            <i class="fas fa-building me-2"></i>
            Departments
          </h4>

          <ul class="departments-list">
            <li *ngFor="let dept of departments">
              <button
                class="department-btn"
                [class.active]="isDepartmentSelected(dept.id)"
                [routerLink]="['/departments', dept.id]"
                (click)="selectDepartment(dept)">
                <div class="dept-icon">
                  <i [class]="dept.icon"></i>
                </div>
                <div class="dept-info">
                  <h6 class="dept-name">{{ dept.name }}</h6>
                  <p class="dept-desc">{{ dept.description }}</p>
                </div>
              </button>
            </li>
          </ul>
        </div>
      </div>

      <!-- Department Content -->
      <div class="col-lg-9 col-md-8">
        <div class="department-content" *ngIf="selectedDepartment">

          <!-- Department Header -->
          <div class="department-header card-custom mb-4">
            <div class="header-content">
              <div class="dept-icon-large">
                <i [class]="selectedDepartment.icon"></i>
              </div>
              <div class="header-info">
                <h1 class="department-title">{{ selectedDepartment.name }}</h1>
                <p class="department-subtitle">{{ selectedDepartment.description }}</p>

                <div class="department-stats" *ngIf="selectedDepartment.establishedYear">
                  <div class="stat-item">
                    <i class="fas fa-calendar-alt"></i>
                    <span>Est. {{ selectedDepartment.establishedYear }}</span>
                  </div>
                  <div class="stat-item" *ngIf="selectedDepartment.studentCount">
                    <i class="fas fa-users"></i>
                    <span>{{ selectedDepartment.studentCount }} Students</span>
                  </div>
                  <div class="stat-item" *ngIf="selectedDepartment.facultyCount">
                    <i class="fas fa-chalkboard-teacher"></i>
                    <span>{{ selectedDepartment.facultyCount }} Faculty</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Section Navigation -->
          <div class="section-nav card-custom mb-4">
            <div class="nav-buttons">
              <button
                class="nav-btn"
                [class.active]="isActiveSection('overview')"
                (click)="setActiveSection('overview')">
                <i class="fas fa-info-circle me-2"></i>
                Overview
              </button>
              <button
                class="nav-btn"
                [class.active]="isActiveSection('vision')"
                (click)="setActiveSection('vision')">
                <i class="fas fa-eye me-2"></i>
                Vision & Mission
              </button>
              <button
                class="nav-btn"
                [class.active]="isActiveSection('objectives')"
                (click)="setActiveSection('objectives')">
                <i class="fas fa-bullseye me-2"></i>
                Objectives
              </button>
              <button
                class="nav-btn"
                [class.active]="isActiveSection('courses')"
                (click)="setActiveSection('courses')">
                <i class="fas fa-book me-2"></i>
                Courses
              </button>
              <button
                class="nav-btn"
                [class.active]="isActiveSection('research')"
                (click)="setActiveSection('research')">
                <i class="fas fa-flask me-2"></i>
                Research
              </button>
            </div>
          </div>

          <!-- Section Content -->
          <div class="section-content card-custom">

            <!-- Overview Section -->
            <div class="content-section" *ngIf="isActiveSection('overview')">
              <div class="section-header">
                <h3 class="section-title-left">
                  <i class="fas fa-info-circle text-primary-custom me-3"></i>
                  Department Overview
                </h3>
              </div>

              <div class="content-body">
                <p class="lead">{{ selectedDepartment.overview }}</p>

                <div class="row mt-4" *ngIf="selectedDepartment.headOfDepartment">
                  <div class="col-md-6">
                    <div class="info-card">
                      <h5 class="text-primary-custom">
                        <i class="fas fa-user-tie me-2"></i>
                        Head of Department
                      </h5>
                      <p class="h6">{{ selectedDepartment.headOfDepartment }}</p>
                    </div>
                  </div>
                  <div class="col-md-6" *ngIf="selectedDepartment.establishedYear">
                    <div class="info-card">
                      <h5 class="text-primary-custom">
                        <i class="fas fa-calendar-alt me-2"></i>
                        Established
                      </h5>
                      <p class="h6">{{ selectedDepartment.establishedYear }}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Vision & Mission Section -->
            <div class="content-section" *ngIf="isActiveSection('vision')">
              <div class="section-header">
                <h3 class="section-title-left">
                  <i class="fas fa-eye text-primary-custom me-3"></i>
                  Vision & Mission
                </h3>
              </div>

              <div class="content-body">
                <div class="row">
                  <div class="col-md-6 mb-4">
                    <div class="vision-card">
                      <div class="vision-icon">
                        <i class="fas fa-lightbulb"></i>
                      </div>
                      <h4>Our Vision</h4>
                      <p>{{ selectedDepartment.vision }}</p>
                    </div>
                  </div>
                  <div class="col-md-6 mb-4">
                    <div class="mission-card">
                      <div class="mission-icon">
                        <i class="fas fa-rocket"></i>
                      </div>
                      <h4>Our Mission</h4>
                      <p>{{ selectedDepartment.mission }}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Objectives Section -->
            <div class="content-section" *ngIf="isActiveSection('objectives')">
              <div class="section-header">
                <h3 class="section-title-left">
                  <i class="fas fa-bullseye text-primary-custom me-3"></i>
                  Department Objectives
                </h3>
              </div>

              <div class="content-body">
                <div class="objectives-grid">
                  <div class="objective-item" *ngFor="let objective of selectedDepartment.objectives; let i = index">
                    <div class="objective-number">{{ i + 1 }}</div>
                    <div class="objective-content">
                      <p>{{ objective }}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Courses Section -->
            <div class="content-section" *ngIf="isActiveSection('courses')">
              <div class="section-header">
                <h3 class="section-title-left">
                  <i class="fas fa-book text-primary-custom me-3"></i>
                  Courses Offered
                </h3>
              </div>

              <div class="content-body">
                <div class="courses-grid">
                  <div class="course-item" *ngFor="let course of selectedDepartment.courses">
                    <div class="course-icon">
                      <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h6 class="course-name">{{ course }}</h6>
                  </div>
                </div>
              </div>
            </div>

            <!-- Research Section -->
            <div class="content-section" *ngIf="isActiveSection('research')">
              <div class="section-header">
                <h3 class="section-title-left">
                  <i class="fas fa-flask text-primary-custom me-3"></i>
                  Research Areas
                </h3>
              </div>

              <div class="content-body">
                <div class="research-areas">
                  <div class="research-item" *ngFor="let area of selectedDepartment.researchAreas">
                    <div class="research-icon">
                      <i class="fas fa-microscope"></i>
                    </div>
                    <div class="research-content">
                      <h6 class="research-title">{{ area }}</h6>
                      <p class="research-desc">Advanced research and development in {{ area.toLowerCase() }} with focus on innovation and practical applications.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- No Department Selected -->
        <div class="no-selection text-center py-5" *ngIf="!selectedDepartment">
          <i class="fas fa-building fa-3x text-muted mb-3"></i>
          <h4>Select a Department</h4>
          <p class="text-muted">Choose a department from the sidebar to view detailed information.</p>
        </div>
      </div>
    </div>
  </div>
</section>
