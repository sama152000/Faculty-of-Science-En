<section class="blog-grid-section section-padding">
  <div class="container-fluid">
    <h2 class="section-title">Latest News & Articles</h2>

    <!-- Category Sidebar and Content -->
    <div class="row">
      <!-- Sidebar -->
      <div class="col-lg-3 col-md-4 mb-4">
        <div class="category-sidebar card-custom">
          <h4 class="sidebar-title">Categories</h4>
          <ul class="category-list">
            <li>
              <button 
                class="category-btn"
                [class.active]="selectedType === 'all'"
                (click)="onTypeChange('all')">
                <i class="fas fa-list me-2"></i>
                All Items
                <span class="count">({{ allNews.length }})</span>
              </button>
            </li>
            <li>
              <button 
                class="category-btn"
                [class.active]="selectedType === 'news'"
                (click)="onTypeChange('news')">
                <i class="fas fa-newspaper me-2"></i>
                News
                <span class="count">({{ newsService.getByType('news').length }})</span>
              </button>
            </li>
            <li>
              <button 
                class="category-btn"
                [class.active]="selectedType === 'article'"
                (click)="onTypeChange('article')">
                <i class="fas fa-file-alt me-2"></i>
                Articles
                <span class="count">({{ newsService.getByType('article').length }})</span>
              </button>
            </li>
          </ul>
        </div>
      </div>

      <!-- Main Content -->
      <div class="col-lg-9 col-md-8">
        <!-- Results Header -->
        <div class="results-header mb-4">
          <h3 class="results-title">
            <span *ngIf="selectedType === 'all'">All News & Articles</span>
            <span *ngIf="selectedType === 'news'">Latest News</span>
            <span *ngIf="selectedType === 'article'">Academic Articles</span>
          </h3>
          <p class="results-count">Showing {{ filteredNews.length }} items</p>
        </div>

        <!-- News Grid -->
        <div class="blog-grid" *ngIf="getPaginatedNews().length > 0">
          <article class="blog-card hover-lift" *ngFor="let item of getPaginatedNews()">
            <div class="blog-image-container">
              <img [src]="item.image" [alt]="item.title" class="blog-img">
              <div class="blog-type-badge" [class]="item.type">
                <i class="fas" [class.fa-newspaper]="item.type === 'news'" [class.fa-file-alt]="item.type === 'article'"></i>
                {{ item.type | titlecase }}
              </div>
            </div>
            
            <div class="blog-content">
              <div class="blog-meta">
                <span class="blog-date">
                  <i class="fas fa-calendar-alt me-1"></i>
                  {{ formatDate(item.date) }}
                </span>
                <span class="blog-author" *ngIf="item.author">
                  <i class="fas fa-user me-1"></i>
                  {{ item.author }}
                </span>
              </div>
              
              <h3 class="blog-title">
                <a [routerLink]="['/news', item.id]">{{ item.title }}</a>
              </h3>
              
              <p class="blog-excerpt">{{ item.excerpt }}</p>
              
              <div class="blog-tags" *ngIf="item.tags && item.tags.length > 0">
                <span class="tag" *ngFor="let tag of item.tags.slice(0, 3)">
                  {{ tag }}
                </span>
              </div>
              
              <div class="blog-footer">
                <a [routerLink]="['/news', item.id]" class="read-more btn-outline-custom">
                  Read More
                  <i class="fas fa-arrow-right ms-1"></i>
                </a>
              </div>
            </div>
          </article>
        </div>

        <!-- No Results -->
        <div class="no-results text-center py-5" *ngIf="getPaginatedNews().length === 0">
          <i class="fas fa-search fa-3x text-muted mb-3"></i>
          <h4>No items found</h4>
          <p class="text-muted">Try selecting a different category or check back later for new content.</p>
        </div>

        <!-- Pagination -->
        <div class="pagination-wrapper" *ngIf="totalPages > 1">
          <nav aria-label="News pagination">
            <ul class="pagination justify-content-center">
              <li class="page-item" [class.disabled]="currentPage === 1">
                <button class="page-link" (click)="onPageChange(currentPage - 1)" [disabled]="currentPage === 1">
                  <i class="fas fa-chevron-left"></i>
                  Previous
                </button>
              </li>
              
              <li class="page-item" *ngFor="let page of getPageNumbers()" [class.active]="page === currentPage">
                <button class="page-link" (click)="onPageChange(page)">{{ page }}</button>
              </li>
              
              <li class="page-item" [class.disabled]="currentPage === totalPages">
                <button class="page-link" (click)="onPageChange(currentPage + 1)" [disabled]="currentPage === totalPages">
                  Next
                  <i class="fas fa-chevron-right"></i>
                </button>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </div>
</section>