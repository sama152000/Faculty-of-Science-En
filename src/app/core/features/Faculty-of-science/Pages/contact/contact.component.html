<section class="contact-section">
  <div class="container-fluid">
    <h2 class="section-title">Contact Us</h2>

    <div class="row">
      <!-- Contact Sidebar -->
      <div class="col-lg-3 col-md-4 mb-4">
        <div class="contact-sidebar card-custom">
          <h4 class="sidebar-title">
            <i class="fas fa-phone me-2"></i>
            Contact Information
          </h4>

          <ul class="contact-list">
            <li *ngFor="let contact of contactInfo">
              <button
                class="contact-btn"
                [class.active]="isContactSelected(contact.id)"
                (click)="selectContact(contact)">
                <div class="contact-icon">
                  <i class="fas fa-building"></i>
                </div>
                <div class="contact-info">
                  <h6 class="contact-name">{{ contact.title }}</h6>
                  <p class="contact-desc">{{ contact.description }}</p>
                </div>
              </button>
            </li>
          </ul>

          <!-- Quick Actions -->
          <div class="quick-actions mt-4">
            <h5 class="actions-title">Quick Actions</h5>
            <div class="action-buttons">
              <button
                class="action-btn"
                [class.active]="isActiveSection('general')"
                (click)="setActiveSection('general')">
                <i class="fas fa-info-circle me-2"></i>
                General Info
              </button>
              <button
                class="action-btn"
                [class.active]="isActiveSection('staff')"
                (click)="setActiveSection('staff')">
                <i class="fas fa-users me-2"></i>
                Staff Directory
              </button>
              <button
                class="action-btn"
                [class.active]="isActiveSection('location')"
                (click)="setActiveSection('location')">
                <i class="fas fa-map-marker-alt me-2"></i>
                Location & Map
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Contact Content -->
      <div class="col-lg-9 col-md-8">
        
        <!-- General Information Section -->
        <div class="contact-content" *ngIf="isActiveSection('general') && selectedContact">
          
          <!-- Contact Header -->
          <div class="contact-header card-custom mb-4">
            <div class="header-content">
              <div class="contact-icon-large">
                <i class="fas fa-building"></i>
              </div>
              <div class="header-info">
                <h1 class="contact-title">{{ selectedContact.title }}</h1>
                <p class="contact-subtitle">{{ selectedContact.description }}</p>
              </div>
            </div>
          </div>

          <!-- Contact Details -->
          <div class="contact-details">
            <div class="row g-4">
              
              <!-- Phone Numbers -->
              <div class="col-md-6">
                <div class="detail-card">
                  <div class="detail-icon">
                    <i class="fas fa-phone"></i>
                  </div>
                  <div class="detail-content">
                    <h5>Phone Numbers</h5>
                    <div class="phone-list">
                      <div *ngFor="let phone of selectedContact.phone" class="phone-item">
                        <a [href]="'tel:' + phone" class="phone-link">
                          <i class="fas fa-phone-alt me-2"></i>
                          {{ phone }}
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Email Addresses -->
              <div class="col-md-6">
                <div class="detail-card">
                  <div class="detail-icon">
                    <i class="fas fa-envelope"></i>
                  </div>
                  <div class="detail-content">
                    <h5>Email Addresses</h5>
                    <div class="email-list">
                      <div *ngFor="let email of selectedContact.email" class="email-item">
                        <a [href]="'mailto:' + email" class="email-link">
                          <i class="fas fa-envelope me-2"></i>
                          {{ email }}
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Address -->
              <div class="col-md-6">
                <div class="detail-card">
                  <div class="detail-icon">
                    <i class="fas fa-map-marker-alt"></i>
                  </div>
                  <div class="detail-content">
                    <h5>Address</h5>
                    <p class="address-text">{{ selectedContact.address }}</p>
                  </div>
                </div>
              </div>

              <!-- Office Hours -->
              <div class="col-md-6">
                <div class="detail-card">
                  <div class="detail-icon">
                    <i class="fas fa-clock"></i>
                  </div>
                  <div class="detail-content">
                    <h5>Office Hours</h5>
                    <p class="hours-text">{{ selectedContact.officeHours }}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Staff Directory Section -->
        <div class="staff-content" *ngIf="isActiveSection('staff')">
          
          <!-- Staff Header -->
          <div class="staff-header card-custom mb-4">
            <div class="header-content">
              <div class="staff-icon-large">
                <i class="fas fa-users"></i>
              </div>
              <div class="header-info">
                <h1 class="staff-title">Faculty Staff Directory</h1>
                <p class="staff-subtitle">Connect with our academic and administrative staff</p>
              </div>
            </div>
          </div>

          <!-- Key Staff
          <div class="key-staff-section mb-4">
            <h3 class="section-title-left">
              <i class="fas fa-star text-primary-custom me-3"></i>
              Key Personnel
            </h3>
            
            <div class="row g-4">
              <div *ngFor="let staff of getKeyStaff()" class="col-lg-4 col-md-6">
                <div class="staff-card">
                  <div class="staff-image">
                    <img [src]="staff.image" [alt]="staff.name" class="img-fluid">
                  </div>
                  <div class="staff-info">
                    <h5 class="staff-name">{{ staff.name }}</h5>
                    <p class="staff-position">{{ staff.position }}</p>
                    <p class="staff-department">{{ staff.department }}</p>
                    
                    <div class="staff-contact">
                      <div class="contact-item" *ngIf="staff.email">
                        <i class="fas fa-envelope me-2"></i>
                        <a [href]="'mailto:' + staff.email">{{ staff.email }}</a>
                      </div>
                      <div class="contact-item" *ngIf="staff.phone">
                        <i class="fas fa-phone me-2"></i>
                        <a [href]="'tel:' + staff.phone">{{ staff.phone }}</a>
                      </div>
                      <div class="contact-item" *ngIf="staff.officeLocation">
                        <i class="fas fa-map-marker-alt me-2"></i>
                        <span>{{ staff.officeLocation }}</span>
                      </div>
                      <div class="contact-item" *ngIf="staff.officeHours">
                        <i class="fas fa-clock me-2"></i>
                        <span>{{ staff.officeHours }}</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div> -->

          <!-- All Staff -->
          <div class="all-staff-section">
            <h3 class="section-title-left">
              <i class="fas fa-users text-primary-custom me-3"></i>
              Complete Staff Directory
            </h3>
            
            <div class="staff-table-container card-custom">
              <div class="table-responsive">
                <table class="table staff-table">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Position</th>
                      <th>Department</th>
                      <th>Email</th>
                      <th>Phone</th>
                      <th>Office</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let staff of staffContacts">
                      <td>
                        <div class="staff-name-cell">
                          <img [src]="staff.image" [alt]="staff.name" class="staff-avatar">
                          <span>{{ staff.name }}</span>
                        </div>
                      </td>
                      <td>{{ staff.position }}</td>
                      <td>{{ staff.department }}</td>
                      <td>
                        <a [href]="'mailto:' + staff.email" class="email-link">
                          {{ staff.email }}
                        </a>
                      </td>
                      <td>
                        <a *ngIf="staff.phone" [href]="'tel:' + staff.phone" class="phone-link">
                          {{ staff.phone }}
                        </a>
                        <span *ngIf="!staff.phone" class="text-muted">-</span>
                      </td>
                      <td>
                        <span *ngIf="staff.officeLocation">{{ staff.officeLocation }}</span>
                        <span *ngIf="!staff.officeLocation" class="text-muted">-</span>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <!-- Location & Map Section -->
        <div class="location-content" *ngIf="isActiveSection('location')">
          
          <!-- Location Header -->
          <div class="location-header card-custom mb-4">
            <div class="header-content">
              <div class="location-icon-large">
                <i class="fas fa-map-marker-alt"></i>
              </div>
              <div class="header-info">
                <h1 class="location-title">Find Us</h1>
                <p class="location-subtitle">Visit our campus and explore our facilities</p>
              </div>
            </div>
          </div>

          <!-- Map and Directions -->
          <div class="map-section card-custom mb-4">
            <div class="map-container">
              <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3593.0258622713013!2d32.8040167!3d25.769709300000002!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14491592597f70b1%3A0xccac387a294f12e5!2z2KzYp9mF2LnYqSDYp9mE2KPZgti12LE!5e0!3m2!1sar!2seg!4v1764261012461!5m2!1sar!2seg" 
          
                width="100%"
                height="400"
                style="border:0;"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade">
              </iframe>
              <div *ngIf="!selectedContact?.mapUrl" class="map-placeholder">
                <i class="fas fa-map fa-3x text-muted mb-3"></i>
                <h4>Interactive Map</h4>
                <p class="text-muted">Map will be available soon</p>
              </div>
            </div>
          </div>

          <!-- Campus Information -->
          <div class="campus-info">
            <div class="row g-4">
              <div class="col-md-6">
                <div class="info-card">
                  <div class="info-icon">
                    <i class="fas fa-car"></i>
                  </div>
                  <h5>Parking</h5>
                  <p>Free parking available for visitors and students. Multiple parking areas around the campus.</p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="info-card">
                  <div class="info-icon">
                    <i class="fas fa-bus"></i>
                  </div>
                  <h5>Public Transport</h5>
                  <p>Accessible by public buses and taxis. Main bus stop located 200m from the main entrance.</p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="info-card">
                  <div class="info-icon">
                    <i class="fas fa-wheelchair"></i>
                  </div>
                  <h5>Accessibility</h5>
                  <p>Campus is fully accessible with ramps, elevators, and designated parking spaces.</p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="info-card">
                  <div class="info-icon">
                    <i class="fas fa-info-circle"></i>
                  </div>
                  <h5>Visitor Information</h5>
                  <p>Reception desk at main entrance provides maps, directions, and general assistance.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>